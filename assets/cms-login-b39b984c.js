import{j as a,s as c,e as r}from"./config-899afede.js";import"./hamMenu-6b7faa69.js";import m from"https://cdnjs.cloudflare.com/ajax/libs/axios/1.5.1/esm/axios.js";const s=document.querySelector(".js-adminAccount"),n=document.querySelector(".js-adminPassword"),t=document.querySelector(".login-form");t.addEventListener("submit",l);function l(o){if(o.preventDefault(),t.checkValidity())m.get(`${a}/admins/1`).then(e=>{let i=e.data;if(s.value.trim()!==i.account){document.querySelector(".js-loginError").innerHTML=' <i class="bi bi-exclamation-circle me-4"></i> 使用者代號錯誤',s.value="";return}else if(n.value.trim()!==i.password){document.querySelector(".js-passwordError").innerHTML=' <i class="bi bi-exclamation-circle me-4"></i> 使用者密碼錯誤',n.value="";return}else localStorage.setItem("isAdmin","true"),c("嘿毛，歡迎登入","即將轉向後台頁面",3e3),t.reset(),t.classList.remove("was-validated"),setTimeout(()=>window.location.href="cms.html",3e3)}).catch(e=>{console.log(e),e.message==="Network Error"?r("網路異常，無法登入！",""):r(e,"")});else{o.stopPropagation();return}}
